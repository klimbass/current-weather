{"version":3,"file":"commonHelpers.js","sources":["../src/js/showTime.js","../src/main.js"],"sourcesContent":["const timeCard = \"<div class='time-card'><div class='time'><span class='hours'></span><span id='dots'>_</span><span class='min'></span></div><div class='date'>_</div></div>\"\nconst dataShow = document.querySelector('.date-show')\ndataShow.insertAdjacentHTML('afterbegin', timeCard)\nconst timeHTML = document.querySelector('.time')\nconst dateHTML = document.querySelector('.date')\nconst dotsElement = document.getElementById('dots');\nconst min = document.querySelector('.min')\nconst hours = document.querySelector('.hours')\n\n\n\nfunction showTime() {\n   \n\n    setInterval(() => {\n        \n       \n        const time = new Date()\n        const h = time.getHours()\n        const m = time.getMinutes()\n\n        \n\n\n        hours.textContent = h\n        min.textContent = m\n        const date = new Date().toLocaleString(navigator.language, { dateStyle: 'short' })\n        dateHTML.textContent = date\n        dotsElement.textContent = dotsElement.textContent === ':' ? ' ' : ':';\n\n        // console.log(time, date);\n        \n    }, 1000)\n\n}\n showTime()","import './js/showTime'\n\n\n\nconst form = document.querySelector('.form')\nconst img = document.querySelector('.image')\nconst title = document.querySelector('.title')\nconst curWeather = document.querySelector('.current-weather')\nconst date = document.querySelector('.date-show span')\nconst btnSubmit = document.querySelector('#btn-submit')\nbtnSubmit.disabled = true\n\nconst url = 'https://api.openweathermap.org/data/2.5/weather?'\nlet icon\nconst option = new URLSearchParams({\n    appid: '117bcd5592950f9f701a11f5ab982de0',\n    units: 'metric',\n    q: ''\n})\n// date.textContent = new Date().toLocaleString()\n\n\nform.addEventListener('input', (event) => {\n    // console.dir(event.target.value.trim())\n    if (event.target.value.trim()) {\n       btnSubmit.disabled = false    \n    }\n})\n\n\nform.addEventListener('submit', handleSubmit)\n\n\n\nfunction handleSubmit(event) {\n    event.preventDefault()\n    img.textContent = ''\n    option.set('q', event.target.city.value.trim())\n    console.log(option.get('q'));\n    if (option.get('q')) {\n        fetch(url + option)\n        .then(res => {\n            if (!res.ok) {\n                return new Error(`Error: ${res}`)\n            }\n            return res.json()\n        })\n        .then(data => {\n            // console.log(data);\n            title.textContent = data.name + ' ' + data.sys.country;\n            // console.log(data.sys.country);\n            // console.log(data.weather[0].main);\n            icon = data.weather[0].icon;\n            // console.log(icon);\n            const iconUrl = `https://openweathermap.org/img/wn/${icon}@2x.png`\n            img.insertAdjacentHTML('afterbegin', `<img src=\"${iconUrl}\" width=\"80\" height=\"80\" />`)\n            console.log(data.main.temp_min, data.main.temp_max);\n            let tempMin = Math.round(data.main.temp_min)\n            if (tempMin > 0) {\n                tempMin = `+${ tempMin }`\n            }\n            let tempMax = Math.round(data.main.temp_max)\n            if (tempMax > 0) {\n                tempMax = `+${ tempMax }`\n            }\n            curWeather.textContent = `${tempMin} - ${tempMax}`\n\n        })\n            .catch(()=>{console.log('Sorry, such city not found!');})\n        .finally(()=> form.reset())\n    }\n    \n}"],"names":["timeCard","dataShow","dateHTML","dotsElement","min","hours","showTime","time","h","m","date","form","img","title","curWeather","btnSubmit","url","icon","option","event","handleSubmit","res","data","iconUrl","tempMin","tempMax"],"mappings":"ssBAAA,MAAMA,EAAW,6JACXC,EAAW,SAAS,cAAc,YAAY,EACpDA,EAAS,mBAAmB,aAAcD,CAAQ,EACjC,SAAS,cAAc,OAAO,EAC/C,MAAME,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAc,SAAS,eAAe,MAAM,EAC5CC,EAAM,SAAS,cAAc,MAAM,EACnCC,EAAQ,SAAS,cAAc,QAAQ,EAI7C,SAASC,GAAW,CAGhB,YAAY,IAAM,CAGd,MAAMC,EAAO,IAAI,KACXC,EAAID,EAAK,SAAU,EACnBE,EAAIF,EAAK,WAAY,EAK3BF,EAAM,YAAcG,EACpBJ,EAAI,YAAcK,EAClB,MAAMC,EAAO,IAAI,KAAI,EAAG,eAAe,UAAU,SAAU,CAAE,UAAW,QAAS,EACjFR,EAAS,YAAcQ,EACvBP,EAAY,YAAcA,EAAY,cAAgB,IAAM,IAAM,GAIrE,EAAE,GAAI,CAEX,CACCG,EAAQ,EC/BT,MAAMK,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAM,SAAS,cAAc,QAAQ,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAa,SAAS,cAAc,kBAAkB,EAC/C,SAAS,cAAc,iBAAiB,EACrD,MAAMC,EAAY,SAAS,cAAc,aAAa,EACtDA,EAAU,SAAW,GAErB,MAAMC,EAAM,mDACZ,IAAIC,EACJ,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,MAAO,mCACP,MAAO,SACP,EAAG,EACP,CAAC,EAIDP,EAAK,iBAAiB,QAAUQ,GAAU,CAElCA,EAAM,OAAO,MAAM,KAAI,IACxBJ,EAAU,SAAW,GAE5B,CAAC,EAGDJ,EAAK,iBAAiB,SAAUS,CAAY,EAI5C,SAASA,EAAaD,EAAO,CACzBA,EAAM,eAAgB,EACtBP,EAAI,YAAc,GAClBM,EAAO,IAAI,IAAKC,EAAM,OAAO,KAAK,MAAM,MAAM,EAC9C,QAAQ,IAAID,EAAO,IAAI,GAAG,CAAC,EACvBA,EAAO,IAAI,GAAG,GACd,MAAMF,EAAME,CAAM,EACjB,KAAKG,GACGA,EAAI,GAGFA,EAAI,KAAM,EAFN,IAAI,MAAM,UAAUA,CAAG,EAAE,CAGvC,EACA,KAAKC,GAAQ,CAEVT,EAAM,YAAcS,EAAK,KAAO,IAAMA,EAAK,IAAI,QAG/CL,EAAOK,EAAK,QAAQ,CAAC,EAAE,KAEvB,MAAMC,EAAU,qCAAqCN,CAAI,UACzDL,EAAI,mBAAmB,aAAc,aAAaW,CAAO,6BAA6B,EACtF,QAAQ,IAAID,EAAK,KAAK,SAAUA,EAAK,KAAK,QAAQ,EAClD,IAAIE,EAAU,KAAK,MAAMF,EAAK,KAAK,QAAQ,EACvCE,EAAU,IACVA,EAAU,IAAKA,KAEnB,IAAIC,EAAU,KAAK,MAAMH,EAAK,KAAK,QAAQ,EACvCG,EAAU,IACVA,EAAU,IAAKA,KAEnBX,EAAW,YAAc,GAAGU,CAAO,MAAMC,CAAO,EAE5D,CAAS,EACI,MAAM,IAAI,CAAC,QAAQ,IAAI,6BAA6B,CAAE,CAAC,EAC3D,QAAQ,IAAKd,EAAK,OAAO,CAGlC"}