(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();const v="<div class='time-card'><div class='time'><span class='hours'></span><span id='dots'>_</span><span class='min'></span></div><div class='date'>_</div></div>",b=document.querySelector(".date-show");b.insertAdjacentHTML("afterbegin",v);document.querySelector(".time");const q=document.querySelector(".date"),f=document.getElementById("dots"),w=document.querySelector(".min"),x=document.querySelector(".hours");function L(){setInterval(()=>{const t=new Date,n=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");x.textContent=n,w.textContent=o;const r=new Date().toLocaleString(navigator.language,{dateStyle:"short"});q.textContent=r,f.textContent=f.textContent===":"?" ":":"},1e3)}L();function p(t,n){return fetch(t+n).then(o=>o.ok?o.json():new Error(`Error: ${o}`))}const d=document.querySelector(".form"),u=document.querySelector(".image"),g=document.querySelector(".title"),h=document.querySelector(".current-weather");document.querySelector(".date-show span");const y=document.querySelector("#btn-submit");y.disabled=!0;const M=document.querySelector("#bookmark"),c=document.querySelector(".save"),a="City",S="https://api.openweathermap.org/data/2.5/weather?";let l;const s=new URLSearchParams({appid:"117bcd5592950f9f701a11f5ab982de0",units:"metric",q:""});d.addEventListener("input",t=>{t.target.value.trim()&&(y.disabled=!1)});d.addEventListener("submit",C);function C(t){t.preventDefault(),u.textContent="",s.set("q",t.target.city.value.trim()),console.log(s.get("q")),s.get("q")&&p(S,s).then(n=>{g.textContent=n.name+" "+n.sys.country,l=n.weather[0].icon;const o=`https://openweathermap.org/img/wn/${l}@2x.png`;u.insertAdjacentHTML("afterbegin",`<img src="${o}" width="80" height="80" />`),console.log(n.main.temp_min,n.main.temp_max);let r=Math.round(n.main.temp_min);r>0&&(r=`+${r}`);let e=Math.round(n.main.temp_max);e>0&&(e=`+${e}`),h.textContent=`${r} - ${e}`}).catch(()=>{console.log("Sorry, such city not found!")}).finally(()=>d.reset())}M.addEventListener("click",$);function $(){c.classList.contains("invisible")?s.get("q")&&(c.classList.remove("invisible"),localStorage.setItem(a,s.get("q"))):(c.classList.add("invisible"),localStorage.removeItem(a))}localStorage.getItem(a)&&(c.classList.remove("invisible"),s.set("q",localStorage.getItem(a)),p(S,s).then(t=>{g.textContent=t.name+" "+t.sys.country,l=t.weather[0].icon;const n=`https://openweathermap.org/img/wn/${l}@2x.png`;u.insertAdjacentHTML("afterbegin",`<img src="${n}" width="80" height="80" />`),console.log(t.main.temp_min,t.main.temp_max);let o=Math.round(t.main.temp_min);o>0&&(o=`+${o}`);let r=Math.round(t.main.temp_max);r>0&&(r=`+${r}`),h.textContent=`${o} - ${r}`}).catch(()=>{console.log("Sorry, such city not found!")}));
//# sourceMappingURL=commonHelpers.js.map
